<!DOCTYPE>
<html>
<head>
	<title>deepcopy</title>
<style type="text/css">
.main {width: 600px;height:400px;margin: 0 auto;margin-top: 100px;padding:10px; border: 1px solid #888; border-radius:4px;overflow: hidden;}
#pre {position: relative; top:0px; left:-610px;}
#next {position: relative; top:-400px; left:00px;}
#pre img{width:600px;height: 400px}
#next img {width:600px;height: 400px}
</style>
</head>
<body>
	<div class="main">
		<div class="imgLoop">
			<div id="pre"><img src="http://sfault-avatar.b0.upaiyun.com/263/018/2630188223-1030000000125916_huge128"></div>
			<div id="next"><img src="http://sfault-avatar.b0.upaiyun.com/224/107/224107167-544dab6ec4576_big64"> </div>
		</div>
	</div>
	<div id="out">
		img
	</div>
</body>
<script type="text/javascript">


imgList = ['https://avatars1.githubusercontent.com/u/5638737?v=2&s=460', 'http://sfault-avatar.b0.upaiyun.com/224/107/224107167-544dab6ec4576_big64', 'http://sfault-avatar.b0.upaiyun.com/263/018/2630188223-1030000000125916_huge128']

function imgLoad(imgList, imgs){
	imgList.forEach(function(i){
		imgs.push(new Image())
		var ls = imgs.length
	    imgs[ls-1].onload = function(){
	        imgs[ls-1].onload = null;
	    }
	    imgs[ls-1].src = i; 
	})
	return imgs
}
function Dom(){
	this.pre = function(Node){
		domN = document.getElementById('pre')
		domN.replaceChild(Node, domN.childNodes[0])
	}

	this.nexts = function(Node){
		domN = document.getElementById('next')
		domN.replaceChild(Node, domN.childNodes[0])
	}
}

var imgs = []
s = imgLoad(imgList, imgs)

function fade(inElement, outElement, x){
	//console.log(Number(outElement.style.left.slice(0,-2)),'-',Number('610px'.slice(0,-2)))
	if (Number(outElement.style.left.slice(0,-2)) > Number('610px'.slice(0,-2))){
		clearInterval(clock);
	}
	right = outElement.style.left
	outElement.style.left = Number(right.slice(0,-2)) + Number(x) + 'px'
	inElement.style.left = Number(right.slice(0,-2)) + Number(x) - 610 + 'px'
}

if (imgs.length >= 3){
	oDom = new Dom()
	oDom.nexts(imgs[0])
	oDom.pre(imgs[1])

	inElement = document.getElementById("pre")

	outElement = document.getElementById("next")
	var clock = setInterval("fade(inElement,outElement, 3)",1)
	console.log(1)
}

</script>
</html>